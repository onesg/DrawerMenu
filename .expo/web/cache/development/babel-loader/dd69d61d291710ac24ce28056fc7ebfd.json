{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport React from 'react';\nimport NativeViewGestureHandler from \"./NativeViewGestureHandler\";\nvar NATIVE_WRAPPER_BIND_BLACKLIST = new Set(['replaceState', 'isMounted']);\nvar NATIVE_WRAPPER_PROPS_FILTER = ['id', 'minPointers', 'enabled', 'waitFor', 'simultaneousHandlers', 'shouldCancelWhenOutside', 'hitSlop', 'onGestureEvent', 'onHandlerStateChange', 'onBegan', 'onFailed', 'onCancelled', 'onActivated', 'onEnded', 'shouldActivateOnStart', 'disallowInterruption', 'onGestureHandlerEvent', 'onGestureHandlerStateChange'];\nexport default function createNativeWrapper(Component) {\n  var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var ComponentWrapper = function (_React$Component) {\n    _inherits(ComponentWrapper, _React$Component);\n\n    function ComponentWrapper() {\n      var _getPrototypeOf2;\n\n      var _this;\n\n      _classCallCheck(this, ComponentWrapper);\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ComponentWrapper)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n      _this._refHandler = function (node) {\n        var source = node;\n\n        while (source != null) {\n          for (var _iterator = Object.getOwnPropertyNames(source), _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[typeof Symbol === \"function\" ? Symbol.iterator : \"@@iterator\"]();;) {\n            var _ref;\n\n            if (_isArray) {\n              if (_i >= _iterator.length) break;\n              _ref = _iterator[_i++];\n            } else {\n              _i = _iterator.next();\n              if (_i.done) break;\n              _ref = _i.value;\n            }\n\n            var _methodName = _ref;\n\n            if (!_methodName.startsWith('_') && !_methodName.startsWith('component') && !NATIVE_WRAPPER_BIND_BLACKLIST.has(_methodName) && typeof source[_methodName] === 'function' && _this[_methodName] === undefined) {\n              if (source[_methodName].prototype) {\n                _this[_methodName] = source[_methodName].bind(node);\n              } else {\n                _this[_methodName] = source[_methodName];\n              }\n            }\n          }\n\n          source = Object.getPrototypeOf(source);\n        }\n      };\n\n      return _this;\n    }\n\n    _createClass(ComponentWrapper, [{\n      key: \"render\",\n      value: function render() {\n        const gestureHandlerProps = Object.keys(this.props).reduce((props, key) => {\n          if (NATIVE_WRAPPER_PROPS_FILTER.indexOf(key) !== -1) {\n            props[key] = this.props[key];\n          }\n\n          return props;\n        }, { ...config\n        });\n        return <NativeViewGestureHandler {...gestureHandlerProps}>\r\n          <Component {...this.props} ref={this._refHandler} />\r\n        </NativeViewGestureHandler>;\n      }\n    }]);\n\n    return ComponentWrapper;\n  }(React.Component);\n\n  ComponentWrapper.propTypes = { ...Component.propTypes\n  };\n  ComponentWrapper.displayName = Component.displayName || 'ComponentWrapper';\n  return ComponentWrapper;\n}","map":{"version":3,"sources":["C:/workspace/react/DrawerMenu/node_modules/react-native-gesture-handler/createNativeWrapper.js"],"names":["React","NativeViewGestureHandler","NATIVE_WRAPPER_BIND_BLACKLIST","Set","NATIVE_WRAPPER_PROPS_FILTER","createNativeWrapper","Component","config","ComponentWrapper","_refHandler","node","source","Object","getOwnPropertyNames","methodName","startsWith","has","undefined","prototype","bind","getPrototypeOf","gestureHandlerProps","keys","props","reduce","key","indexOf","propTypes","displayName"],"mappings":";;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAOC,wBAAP;AAEA,IAAMC,6BAA6B,GAAG,IAAIC,GAAJ,CAAQ,CAAC,cAAD,EAAiB,WAAjB,CAAR,CAAtC;AASA,IAAMC,2BAA2B,GAAG,CAClC,IADkC,EAElC,aAFkC,EAGlC,SAHkC,EAIlC,SAJkC,EAKlC,sBALkC,EAMlC,yBANkC,EAOlC,SAPkC,EAQlC,gBARkC,EASlC,sBATkC,EAUlC,SAVkC,EAWlC,UAXkC,EAYlC,aAZkC,EAalC,aAbkC,EAclC,SAdkC,EAelC,uBAfkC,EAgBlC,sBAhBkC,EAiBlC,uBAjBkC,EAkBlC,6BAlBkC,CAApC;AAqBA,eAAe,SAASC,mBAAT,CAA6BC,SAA7B,EAAqD;AAAA,MAAbC,MAAa,uEAAJ,EAAI;;AAAA,MAC5DC,gBAD4D;AAAA;;AAAA;AAAA;;AAAA;;AAAA;;AAAA;AAAA;AAAA;;AAAA;;AAAA,YAQhEC,WARgE,GAQlD,UAAAC,IAAI,EAAI;AAEpB,YAAIC,MAAM,GAAGD,IAAb;;AACA,eAAOC,MAAM,IAAI,IAAjB,EAAuB;AACrB,+BAAuBC,MAAM,CAACC,mBAAP,CAA2BF,MAA3B,CAAvB,gKAA2D;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA,gBAAlDG,WAAkD;;AACzD,gBACE,CAACA,WAAU,CAACC,UAAX,CAAsB,GAAtB,CAAD,IACA,CAACD,WAAU,CAACC,UAAX,CAAsB,WAAtB,CADD,IAEA,CAACb,6BAA6B,CAACc,GAA9B,CAAkCF,WAAlC,CAFD,IAGA,OAAOH,MAAM,CAACG,WAAD,CAAb,KAA8B,UAH9B,IAIA,MAAKA,WAAL,MAAqBG,SALvB,EAME;AACA,kBAAIN,MAAM,CAACG,WAAD,CAAN,CAAmBI,SAAvB,EAAkC;AAEhC,sBAAKJ,WAAL,IAAmBH,MAAM,CAACG,WAAD,CAAN,CAAmBK,IAAnB,CAAwBT,IAAxB,CAAnB;AACD,eAHD,MAGO;AACL,sBAAKI,WAAL,IAAmBH,MAAM,CAACG,WAAD,CAAzB;AACD;AACF;AACF;;AACDH,UAAAA,MAAM,GAAGC,MAAM,CAACQ,cAAP,CAAsBT,MAAtB,CAAT;AACD;AACF,OA9B+D;;AAAA;AAAA;;AAAA;AAAA;AAAA,+BAgCvD;AAEP,cAAMU,mBAAmB,GAAGT,MAAM,CAACU,IAAP,CAAY,KAAKC,KAAjB,EAAwBC,MAAxB,CAC1B,CAACD,KAAD,EAAQE,GAAR,KAAgB;AACd,cAAIrB,2BAA2B,CAACsB,OAA5B,CAAoCD,GAApC,MAA6C,CAAC,CAAlD,EAAqD;AACnDF,YAAAA,KAAK,CAACE,GAAD,CAAL,GAAa,KAAKF,KAAL,CAAWE,GAAX,CAAb;AACD;;AACD,iBAAOF,KAAP;AACD,SANyB,EAO1B,EAAE,GAAGhB;AAAL,SAP0B,CAA5B;AASA,eACE,CAAC,wBAAD,CAA0B,IAAIc,mBAAJ,CAA1B,CAAmD;AAC3D,UAAU,CAAC,SAAD,CAAW,IAAI,KAAKE,KAAT,CAAX,CAA2B,IAAI,CAAC,KAAKd,WAAN,CAA/B,GAAoD;AAC9D,QAAQ,EAAE,wBAAF,CAHF;AAKD;AAhD+D;;AAAA;AAAA,IACnCT,KAAK,CAACM,SAD6B;;AAC5DE,EAAAA,gBAD4D,CAEzDmB,SAFyD,GAE7C,EACjB,GAAGrB,SAAS,CAACqB;AADI,GAF6C;AAC5DnB,EAAAA,gBAD4D,CAMzDoB,WANyD,GAM3CtB,SAAS,CAACsB,WAAV,IAAyB,kBANkB;AAkDlE,SAAOpB,gBAAP;AACD","sourcesContent":["import React from 'react';\r\n\r\nimport NativeViewGestureHandler from './NativeViewGestureHandler';\r\n\r\nconst NATIVE_WRAPPER_BIND_BLACKLIST = new Set(['replaceState', 'isMounted']);\r\n\r\n/*\r\n * This array should consist of:\r\n *   - All keys in propTypes from NativeGestureHandler\r\n *     (and all keys in GestureHandlerPropTypes)\r\n *   - 'onGestureHandlerEvent'\r\n *   - 'onGestureHandlerStateChange'\r\n */\r\nconst NATIVE_WRAPPER_PROPS_FILTER = [\r\n  'id',\r\n  'minPointers',\r\n  'enabled',\r\n  'waitFor',\r\n  'simultaneousHandlers',\r\n  'shouldCancelWhenOutside',\r\n  'hitSlop',\r\n  'onGestureEvent',\r\n  'onHandlerStateChange',\r\n  'onBegan',\r\n  'onFailed',\r\n  'onCancelled',\r\n  'onActivated',\r\n  'onEnded',\r\n  'shouldActivateOnStart',\r\n  'disallowInterruption',\r\n  'onGestureHandlerEvent',\r\n  'onGestureHandlerStateChange',\r\n];\r\n\r\nexport default function createNativeWrapper(Component, config = {}) {\r\n  class ComponentWrapper extends React.Component {\r\n    static propTypes = {\r\n      ...Component.propTypes,\r\n    };\r\n\r\n    static displayName = Component.displayName || 'ComponentWrapper';\r\n\r\n    _refHandler = node => {\r\n      // bind native component's methods\r\n      let source = node;\r\n      while (source != null) {\r\n        for (let methodName of Object.getOwnPropertyNames(source)) {\r\n          if (\r\n            !methodName.startsWith('_') && // private methods\r\n            !methodName.startsWith('component') && // lifecycle methods\r\n            !NATIVE_WRAPPER_BIND_BLACKLIST.has(methodName) && // other\r\n            typeof source[methodName] === 'function' &&\r\n            this[methodName] === undefined\r\n          ) {\r\n            if (source[methodName].prototype) {\r\n              // determine if it's not bound already\r\n              this[methodName] = source[methodName].bind(node);\r\n            } else {\r\n              this[methodName] = source[methodName];\r\n            }\r\n          }\r\n        }\r\n        source = Object.getPrototypeOf(source);\r\n      }\r\n    };\r\n\r\n    render() {\r\n      // filter out props that should be passed to gesture handler wrapper\r\n      const gestureHandlerProps = Object.keys(this.props).reduce(\r\n        (props, key) => {\r\n          if (NATIVE_WRAPPER_PROPS_FILTER.indexOf(key) !== -1) {\r\n            props[key] = this.props[key];\r\n          }\r\n          return props;\r\n        },\r\n        { ...config } // watch out not to modify config\r\n      );\r\n      return (\r\n        <NativeViewGestureHandler {...gestureHandlerProps}>\r\n          <Component {...this.props} ref={this._refHandler} />\r\n        </NativeViewGestureHandler>\r\n      );\r\n    }\r\n  }\r\n  return ComponentWrapper;\r\n}\r\n"]},"metadata":{},"sourceType":"module"}